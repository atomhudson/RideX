<div th:fragment="rideRequestCards">
    <div th:each="request : ${profileRidesDetails.requestMade}" class="container border border-gray-700 rounded-md my-3 p-4">
        <div class="block p-4 bg-gray-800 border border-gray-700 rounded-md shadow-md hover:bg-gray-700 transition">
            <div class="flex justify-between">
                <div class="pl-4 border-l-2 border-blue-300 space-y-4">
                    <div class="flex items-center space-x-4">
                        <div class="w-3 h-3 bg-blue-300 rounded-full -ml-[22px]"></div>
                        <div>
                            <time class="text-sm text-gray-300" th:text="${#dates.format(request.ride.startTime, 'HH:mm')}">08:00</time>
                            <h3 class="text-md font-semibold text-white" th:text="${request.ride.sourceCity}">Source City</h3>
                        </div>
                    </div>
                    <div class="flex items-center space-x-4">
                        <div class="w-3 h-3 bg-blue-300 rounded-full -ml-[22px]"></div>
                        <div>
                            <time class="text-sm text-gray-300" th:text="${#dates.format(request.ride.endTime, 'HH:mm')}">11:00</time>
                            <h3 class="text-md font-semibold text-white" th:text="${request.ride.destinationCity}">Destination City</h3>
                        </div>
                    </div>
                </div>
                <div class="text-right ml-6 whitespace-nowrap space-y-1">
                    <h1 class="text-lg font-bold text-white" th:text="'₹' + ${request.finalPrice}">₹500</h1>
                    <p class="text-sm text-gray-300" th:text="'Coins Used: ' + ${request.usedCoins}">Coins Used: 0</p>
                    <p class="text-sm text-gray-300" th:text="'Duration: ' + ${T(java.lang.Math).floor(request.ride.duration / 60.0)} + ' hr ' + (${request.ride.duration} % 60) + ' min'"></p>
                    <p class="text-sm text-gray-300" th:text="'Distance: ' + ${request.ride.distance} + ' km'">Distance: 120 km</p>
                </div>
            </div>
            <div class="flex items-center mt-4">
                <img th:src="@{${request.ride.driver.profilePic}}" alt="Driver" class="h-10 w-10 rounded-full object-cover" />
                <div class="pl-4">
                    <span class="font-medium text-white" th:text="${request.ride.driver.fName + ' ' + request.ride.driver.lName}">John Doe</span>
                    <span th:if="${request.ride.driver.user_details != null}" th:text="${request.ride.driver.user_details.occupation}">Occupation</span>
                </div>
            </div>
            <div class="mt-4 text-xs text-gray-400">
                <div>Requested on: <span class="text-white" th:text="${#dates.format(request.requestedAt, 'yyyy-MM-dd')}">2025-05-01</span></div>
                <div>Ride Date: <span class="text-white" th:text="${#dates.format(request.ride.startTime, 'yyyy-MM-dd')}">2025-05-05</span></div>
                <div>Requested Seats: <span class="text-white" th:text="${request.requestedSeats}">2</span></div>
                <div th:if="${request.isCoDriver}">Applied as Co-Driver</div>
            </div>

            <!-- Request and Ride Status Tags -->
            <div class="mt-4 text-right space-y-1">
                <span th:text="${request.requestStatus}" class="px-2 py-1 text-xs rounded-full font-semibold inline-block bg-purple-600 text-white">Pending</span>
                <!--                                <span th:text="${ride.rideStatus}" class="px-2 py-1 text-xs rounded-full font-semibold inline-block"-->
                <!--                                      th:classappend="${ride.rideStatus == 'PLANNED' ? 'bg-green-600 text-white' :-->
                <!--                                            (ride.rideStatus == 'ONGOING' ? 'bg-yellow-600 text-white' :-->
                <!--                                            (ride.rideStatus == 'COMPLETED' ? 'bg-blue-600 text-white' :-->
                <!--                                            (ride.rideStatus == 'CANCELLED' ? 'bg-red-600 text-white' : 'bg-gray-600 text-white')-->
                <!--                                            )-->
                <!--                                            )-->
                <!--                                        }">-->
                <!--                                        Status-->
                <!--                                </span>-->

            </div>
        </div>
    </div>
</div>